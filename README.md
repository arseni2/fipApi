# Интерактивные доски

Это веб-приложение позволяет пользователям создавать и совместно использовать интерактивные доски. Пользователи могут регистрироваться, создавать доски, делиться ими с другими пользователями и совместно редактировать доски в реальном времени.

## Функциональность

### Авторизация и регистрация
- Регистрация новых пользователей (email, имя, пароль)
- Вход в систему с валидацией данных
- Защита маршрутов для авторизованных пользователей

### Управление досками
- Создание новых досок
- Предоставление доступа к доске другим пользователям по email
- Просмотр досок, к которым у пользователя есть доступ
- Генерация публичной ссылки для просмотра доски
- Просмотр списка публичных досок
- Возможность ставить "лайки" понравившимся доскам
- Фильтрация публичных досок по количеству лайков

### Работа с доской
- Добавление различных объектов: текст, изображения, прямоугольники, круги, линии
- Вращение и перемещение объектов
- Изменение размеров объектов (сохраняя соотношение сторон у изображений)
- Совместное редактирование в реальном времени через WebSocket
- Визуальное выделение объектов, находящихся в фокусе у других пользователей
- Блокировка редактирования объектов, находящихся в фокусе у других пользователей

### Совместный доступ и публичные доски
- Генерация уникального хэша для публичного доступа
- Просмотр публичных досок без авторизации
- Реальное время обновления для всех участников

## Технологии

### Сервер
- Node.js
- Fastify
- TypeScript
- WebSocket для реального времени
- JSON файлы для хранения данных

### Клиент
- React
- TypeScript
- WebSocket для реального времени
- React Router для навигации

## Установка и запуск

1. Установите зависимости для сервера:
```bash
cd server
npm install
```

2. Установите зависимости для клиента:
```bash
cd client
npm install
```

3. Запустите сервер:
```bash
cd server
npm run dev
```

4. Запустите клиент:
```bash
cd client
npm run dev
```

Сервер будет доступен на http://localhost:3000, клиент на http://localhost:5173

## Архитектура

### Сервер
- `/src/routes/auth.ts` - маршруты для аутентификации
- `/src/routes/dashboard.ts` - маршруты для работы с досками
- `/src/services/auth.ts` - бизнес-логика аутентификации
- `/src/services/dashboard.ts` - бизнес-логика работы с досками
- `/src/db/` - слой доступа к данным
- `/src/plugins/websocket.ts` - WebSocket реализация для реального времени

### Клиент
- `/src/pages/` - основные страницы приложения
- `/src/components/` - переиспользуемые компоненты
- `/src/api/` - функции для взаимодействия с сервером
- `/src/hooks/` - пользовательские хуки

## Особенности реализации

1. **Реальное время**: Использование WebSocket для синхронизации изменений между пользователями
2. **Блокировка объектов**: Когда пользователь начинает редактировать объект, он блокируется для других пользователей
3. **Валидация**: Проверка данных на сервере и отображение ошибок на клиенте
4. **Безопасность**: Защита маршрутов с помощью токенов авторизации
5. **Границы холста**: Объекты не могут быть перемещены за пределы холста размером 1600x900 пикселей